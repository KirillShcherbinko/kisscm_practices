## Задача 1

Исследование виртуальной стековой машины CPython.

Изучите возможности просмотра байткода ВМ CPython.

```python
import dis

def foo(x):
    while x:
        x -= 1
    return x + 1

print(dis.dis(foo))
```

Опишите по шагам, что делает каждая из следующих команд (приведите эквивалентное выражение на Python):

11 0 LOAD_FAST 0 (x) 2 LOAD_CONST 1 (10) 4 BINARY_MULTIPLY 6 LOAD_CONST 2 (42) 8 BINARY_ADD 10 RETURN_VALUE

## Решение

1. LOAD_FAST 0 (x) - загрузка переменной x на стек
2. LOAD_CONST 1 (10) - загрузка константы 10 на стек
3. BINARY_MULTIPLY - умножение двух верхних элементов стека (в данном случае x * 10)
4. LOAD_CONST 2 (42) - загрузка константы 42 на стек
5. BINARY_ADD - сложение двух верхних элементов стека (в данном случае результата (x * 10) и 42)
6. RETURN_VALUE - возврат верхнего элемента стека (в данном случае результата (x * 10) + 42)

### Эквивалентное выражение на языке программирования Python:
return (x * 10) + 42

## Тестирование

### Программа для просмотра байткода для данного задания

```python
import dis

def foo(x):
    return (x * 10) + 42

print(dis.dis(foo))
```

### Полученные результаты

![image](https://github.com/user-attachments/assets/af2445d3-f7a1-455d-9c18-c1dc71de58f2)

## Задача 2

Что делает следующий байткод (опишите шаги его работы)? Это известная функция, назовите ее.

```
  5           0 LOAD_CONST               1 (1)
              2 STORE_FAST               1 (r)

  6     >>    4 LOAD_FAST                0 (n)
              6 LOAD_CONST               1 (1)
              8 COMPARE_OP               4 (>)
             10 POP_JUMP_IF_FALSE       30

  7          12 LOAD_FAST                1 (r)
             14 LOAD_FAST                0 (n)
             16 INPLACE_MULTIPLY
             18 STORE_FAST               1 (r)

  8          20 LOAD_FAST                0 (n)
             22 LOAD_CONST               1 (1)
             24 INPLACE_SUBTRACT
             26 STORE_FAST               0 (n)
             28 JUMP_ABSOLUTE            4

  9     >>   30 LOAD_FAST                1 (r)
             32 RETURN_VALUE
```

## Решение

#### Инициализация данных
* LOAD_CONST 1 (1) - загрузка констнаты 1 на стек
* STORE_FAST 1 (r) - загрузка на стек переменной r со значением 1

#### Начинаем цикл

* LOAD_FAST 0 (n) - загрузка переменной n на стек
* LOAD_CONST 1 (1) - загрузка константы 1 на стек
* COMPARE_OP 4 (>) - сравнение верхних элементов стека (в данном случае n > 1)
* POP_JUMP_IF_FALSE 30 - если условеи перестаёт выполняться, то переходим к отметке 30 (код после выполнения цикла)

#### Тело цикла
* LOAD_FAST 1 (r) - загрузка переменной r на стек
* LOAD_FAST 0 (n) - загрузка переменной n на стек
* INPLACE_MULTIPLY - выполнение умножения с сохранением результата в первый операнд (в данном случае r *= n)
* STORE_FAST 1 (r) - присваиваем результат выражения переменной r

* LOAD_FAST 0 (n) - загрузка переменной n на стек
* LOAD_CONST 1 (1) - загрузка константы 1 на стек
* INPLACE_SUBTRACT - выполнение вычитания с сохранением результата в первый операнд (в данном случае n -= 1)
* STORE_FAST 0 (n) - присваиваем результат выражения переменной n
* JUMP_ABSOLUTE 4 - возвращаемся к метке 4 (начало цикла)

#### Код после выполнения цикла
* LOAD_FAST 1 (r) - загрузка переменной r на стек
* RETURN_VALUE - возврат верхнего элемента стека (в данном случае r)

## Полученная функция
Данный байткод описывает функцию получения файториала числа

